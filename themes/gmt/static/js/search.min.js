/*! gmt v1.19.0 | (c) 2019 Chris Ferdinandi | MIT License | http://github.com/cferdinandi/go-make-things */
var crowsNest=function(){"use strict";var e=document.querySelector("#form-search"),a=document.querySelector("#input-search"),s=document.querySelector("#search-results"),c=function(e){var t,n,r,i=e.split(" ").map((function(e){return new RegExp(e,"gi")})),o=searchIndex.reduce((function(e,t,n){var r=0;return i.forEach((function(e){e.test(t.title)&&(r+=20),e.test(t.content)&&(r+=1)})),0<r&&e.push({priority:r,article:t}),e}),[]).sort((function(e,t){return t.priority-e.priority}));s.innerHTML=o.length<1?"<p>Sorry, no matches were found.</p>":(n="<p>Found "+(t=o).length+" matching articles</p>",n+=t.map((function(e,t){return n=e.article,'<div class="margin-bottom" id="search-result-'+t+'"><a class="link-block" href="'+n.url+'"><aside class="text-muted text-small"><time datetime="'+n.datetime+'" pubdate>'+n.date+'</time></aside><h2 class="h3 link-block-styled link-no-underline no-padding-top no-margin-bottom">'+n.title+"</h2>"+n.summary.slice(0,150)+'...<br><span class="link-block-styled link-no-underline">'+n.url+"</span></a></div>";var n})).join("")),r=e,history.pushState&&history.pushState({},document.title,window.location.origin+window.location.pathname+"?s="+encodeURI(r))};e&&a&&s&&searchIndex&&(a.value=a.value.replace(" site:gomakethings.com",""),e.addEventListener("submit",(function(e){e.preventDefault(),c(a.value)}),!1),(function(){var e,t,n,r,i=(e="s",n=t||window.location.href,(r=new RegExp("[?&]"+e+"=([^&#]*)","i").exec(n))?r[1]:null);if(i){var o=decodeURI(i);a.value=o,c(o)}})())};crowsNest();