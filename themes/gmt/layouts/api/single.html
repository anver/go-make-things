{{- $.Scratch.Set "ctas" ( dict ) -}}
{{- $.Scratch.Set "prices" ( dict ) -}}
{{- range $index, $cta := .Site.Data.ctas -}}
	{{- $.Scratch.Set "name" (humanize $index | replaceRE " " "-" | lower) -}}
	{{- if ne (index $cta "message") "" -}}
		{{- $.Scratch.SetInMap "ctas" ($.Scratch.Get "name") (safeHTML (index $cta "message")) -}}
	{{- end -}}
	{{- if isset $cta "limited" -}}
		{{- range $limited := (index $cta "limited") -}}
			{{- if and (ge (now.Format "20060102") (index $limited "start")) (le (now.Format "20060102") (index $limited "end")) -}}
				{{- $.Scratch.SetInMap "ctas" ($.Scratch.Get "name") (safeHTML (index $limited "message" )) -}}
			{{- end -}}
		{{- end -}}
	{{- end -}}
{{- end -}}
{{- range $index, $price := .Site.Data.prices -}}
	{{- $.Scratch.Set "name" (humanize $index | replaceRE " " "-" | lower) -}}
	{{- if and (ne (index $price "start") "") (ne (index $price "end") "") -}}
		{{- if and (ge (now.Format "20060102") (index $price "start")) (le (now.Format "20060102") (index $price "end")) -}}
			{{- $.Scratch.SetInMap "prices" ($.Scratch.Get "name") (index $price "prices") -}}
		{{- end -}}
	{{- end -}}
{{- end -}}
{{- $.Scratch.Set "data" ( dict "ctas" ($.Scratch.Get "ctas") "testimonials" .Site.Data.testimonials "prices" ($.Scratch.Get "prices") ) -}}
{{- $.Scratch.Get "data" | jsonify -}}