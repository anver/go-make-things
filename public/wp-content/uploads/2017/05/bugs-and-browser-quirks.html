<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title></title>
  <style type="text/css">code{white-space: pre;}</style>
  <style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
  </style>
  <style>
  html {
  	font-size: 100%;
  	overflow-y: scroll;
  	-webkit-text-size-adjust: 100%;
  	-ms-text-size-adjust: 100%;
  }
  
  body {
  	color: #272727;
  	font-family: Georgia, Palatino, "Palatino Linotype", Times, "Times New Roman", serif;
  	line-height: 1.7;
  	padding: 1em;
  	/*margin: auto;*/
  	max-width: 42em;
  	background: #ffffff;
  }
  
  a {
  	color: #0088cc;
  	text-decoration: none;
  }
  
  a:visited {
  	color: #0088cc;
  }
  
  a:hover {
  	color: #005580;
  }
  
  a:active {
  	color: #005580;
  }
  
  a:focus {
  	outline: thin dotted;
  }
  
  p {
  	margin: 0 0 1em;
  }
  
  img {
  	max-width: 100%;
  }
  
  h1, h2, h3, h4, h5, h6 {
  	line-height: 125%;
  	margin-top: 2em;
  	font-weight: normal;
  }
  
  p,
  h1, h2, h3 {
  	orphans: 3;
  	widows: 3;
  }
  
  h1, h2, h3 {
  	page-break-after: avoid;
  }
  
  h4, h5, h6 {
  	font-weight: bold;
  }
  
  h1 {
  	font-size: 2.5em;
  	margin-top: 0;
  	margin-bottom: 0;
  	padding-top: 0;
  	padding-bottom: 0;
  }
  
  h2 {
  	font-size: 1.8em;
  	margin-top: 0;
  	padding-top: 0;
  	page-break-before: always;
  }
  
  h3 {
  	font-size: 1.5em;
  }
  
  h4 {
  	font-size: 1.2em;
  }
  
  h5 {
  	font-size: 1em;
  }
  
  h6 {
  	font-size: 0.9em;
  }
  
  blockquote {
  	color: #666666;
  	margin: 0;
  	padding-left: 3em;
  	page-break-inside: avoid;
  	border-left: 0.5em #eee solid;
  }
  
  hr {
  	display: block;
  	height: 2px;
  	border: 0;
  	border-top: 1px solid #aaa;
  	border-bottom: 1px solid #eee;
  	margin: 1em 0;
  	padding: 0;
  }
  
  pre, code, kbd, samp {
  	color: #000;
  	font-family: monospace, monospace;
  	_font-family: 'courier new', monospace;
  	font-size: 0.98em;
  }
  
  pre {
  	padding: 0 0 1em;
  	page-break-inside: avoid !important;
  	white-space: pre;
  	white-space: pre-wrap !important;
  	word-wrap: break-word;
  }
  
  b, strong {
  	font-weight: bold;
  }
  
  dfn {
  	font-style: italic;
  }
  
  ins {
  	background: #ff9;
  	color: #000;
  	text-decoration: none;
  }
  
  mark {
  	background: #ff0;
  	color: #000;
  	font-style: italic;
  	font-weight: bold;
  }
  
  sub, sup {
  	font-size: 75%;
  	line-height: 0;
  	position: relative;
  	vertical-align: baseline;
  }
  
  sup {
  	top: -0.5em;
  }
  
  sub {
  	bottom: -0.25em;
  }
  
  ul, ol {
  	margin: 1em 0;
  	padding: 0 0 0 2em;
  }
  
  li p:last-child {
  	margin-bottom: 0;
  }
  
  ul ul, ol ol {
  	margin: .3em 0;
  }
  
  dl {
  	margin-bottom: 1em;
  }
  
  dt {
  	font-weight: bold;
  	margin-bottom: .8em;
  }
  
  dd {
  	margin: 0 0 .8em 2em;
  }
  
  dd:last-child {
  	margin-bottom: 0;
  }
  
  img {
  	border: 0;
  	-ms-interpolation-mode: bicubic;
  	vertical-align: middle;
  }
  
  figure {
  	display: block;
  	text-align: center;
  	margin: 1em 0;
  }
  
  figure img {
  	border: none;
  	margin: 0 auto;
  }
  
  figcaption {
  	font-size: 0.8em;
  	font-style: italic;
  	margin: 0 0 .8em;
  }
  
  table {
  	margin-bottom: 2em;
  	border-bottom: 1px solid #ddd;
  	border-right: 1px solid #ddd;
  	border-spacing: 0;
  	border-collapse: collapse;
  }
  
  table th {
  	padding: .2em 1em;
  	background-color: #eee;
  	border-top: 1px solid #ddd;
  	border-left: 1px solid #ddd;
  }
  
  table td {
  	padding: .2em 1em;
  	border-top: 1px solid #ddd;
  	border-left: 1px solid #ddd;
  	vertical-align: top;
  }
  
  .meta {
  	color: #666666;
  	margin-bottom: 0;
  }
  
  .author-img {
  	border-radius: 50%;
  	display: inline-block;
  	height: 200px;
  	width: 200px;
  	margin-left: auto;
  	margin-right: auto;
  }
  
  .break {
  	page-break-before: always;
  }
  
  @media print {
  	* {
  		background: transparent !important;
  		color: black !important;
  		filter: none !important;
  		-ms-filter: none !important;
  	}
  
  	body {
  		font-size: 12pt;
  		max-width: 100%;
  	}
  
  	a, a:visited {
  		text-decoration: underline;
  	}
  
  	hr {
  		height: 1px;
  		border: 0;
  		border-bottom: 1px solid black;
  	}
  
  	a[href]:after {
  		content: " (" attr(href) ")";
  	}
  
  	abbr[title]:after {
  		content: " (" attr(title) ")";
  	}
  
  	.ir a:after, a[href^="javascript:"]:after, a[href^="#"]:after {
  		content: "";
  	}
  
  	pre, blockquote {
  		border: 1px solid #999;
  		padding-right: 1em;
  	}
  
  	tr, img {
  		page-break-inside: avoid;
  	}
  
  	img {
  		max-width: 100% !important;
  	}
  
  	@page :left {
  		margin: 15mm 20mm 15mm 10mm;
  }
  
  	@page :right {
  		margin: 15mm 10mm 15mm 20mm;
  }
  
  /*	p, h2, h3 {
  		orphans: 3;
  		widows: 3;
  	}
  
  	h2, h3 {
  		page-break-after: avoid;
  	}*/
  }
  body {
  	margin: 0 auto;
  }
  
  a {
  	word-wrap: break-word;
  }
  
  pre, code, kbd, samp {
  	white-space: pre-wrap;
  }
  
  code {
  	word-wrap: break-word;
  }
  </style>
</head>
<body>
<h1 id="bugs-and-browser-quirks">Bugs and Browser Quirks</h1>
<p>By Chris Ferdinandi Go Make Things, LLC v1.0.0</p>
<p>Copyright 2017 Chris Ferdinandi and Go Make Things, LLC. All Rights Reserved.</p>
<div data-toc="">

</div>
<h2 id="intro">Intro</h2>
<p>In this guide, you’ll learn:</p>
<ul>
<li>The easy way to ensure cross-browser compatibility.</li>
<li>How to catch bugs early… before they become a problem.</li>
<li>How to scope your scripts to prevent conflicts with your variables and functions.</li>
<li>How to debug your code when things go wrong.</li>
<li>A simple trick that makes writing JavaScript faster and easier.</li>
</ul>
<p>Let’s get started…</p>
<h2 id="cross-browser-compatibility">Cross-Browser Compatibility</h2>
<p>Vanilla JavaScript browser compatibility can be inconsistent and difficult to figure out. This is one of the big allures for libraries and frameworks.</p>
<p>In this chapter, I’m going to teach you a super-simple technique you can use to ensure a great experience for your users, regardless of their web browser.</p>
<h3 id="support-vs.optimization">Support vs. Optimization</h3>
<p>The web is for everyone, but support is not the same as optimization.<a href="#fn1" class="footnoteRef" id="fnref1"><sup>1</sup></a></p>
<p>Rather than trying to provide the same level of functionality for older browsers, we can use progressive enhancement to serve a basic experience to all browsers (even Netscape and IE 5), while newer browsers that support modern APIs and techniques get the enhanced experience.</p>
<p><strong>To be clear, I’m not advocating dropping support for older and less capable browsers.</strong></p>
<p>They still have access to all of the content. They just don’t always get the same layout or extra features.</p>
<h3 id="cutting-the-mustard">Cutting the Mustard</h3>
<p>“Cutting the Mustard” is a feature detection technique coined by the BBC.<a href="#fn2" class="footnoteRef" id="fnref2"><sup>2</sup></a></p>
<p>A simple browser test determines whether or not a browser supports modern JavaScript methods and browser APIs. If it does, the browser gets the enhanced experience. If not, it gets a more basic one.</p>
<div class="sourceCode"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span class="kw">var</span> supports <span class="op">=</span> <span class="st">&#39;querySelector&#39;</span> <span class="kw">in</span> document <span class="op">&amp;&amp;</span> <span class="st">&#39;addEventListener&#39;</span> <span class="kw">in</span> window<span class="op">;</span>

<span class="cf">if</span> ( supports ) <span class="op">{</span>
    <span class="co">// Codes goes here...</span>
<span class="op">}</span>

<span class="co">// or...</span>

<span class="cf">if</span> ( <span class="op">!</span>supports ) <span class="cf">return</span><span class="op">;</span></code></pre></div>
<h4 id="what-browsers-are-supported">What browsers are supported?</h4>
<p>To quote the BBC:</p>
<blockquote>
<ul>
<li>IE9+</li>
<li>Firefox 3.5+</li>
<li>Opera 9+ (and probably further back)</li>
<li>Safari 4+</li>
<li>Chrome 1+ (I think)</li>
<li>iPhone and iPad iOS1+</li>
<li>Android phone and tablets 2.1+</li>
<li>Blackberry OS6+</li>
<li>Windows 7.5+ (new Mango version)</li>
<li>Mobile Firefox (all the versions we tested)</li>
<li>Opera Mobile (all the versions we tested)</li>
</ul>
</blockquote>
<h4 id="if-youre-using-classlist">If you’re using <code>classList</code></h4>
<p>If you’re using <code>classList</code>, you need to either include the polyfill,<a href="#fn3" class="footnoteRef" id="fnref3"><sup>3</sup></a> or check for <code>classList</code> support. Without the polyfill, your IE support starts at IE10 instead of IE9.</p>
<div class="sourceCode"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span class="kw">var</span> supports <span class="op">=</span> <span class="st">&#39;querySelector&#39;</span> <span class="kw">in</span> document <span class="op">&amp;&amp;</span> <span class="st">&#39;addEventListener&#39;</span> <span class="kw">in</span> window <span class="op">&amp;&amp;</span> <span class="st">&#39;classList&#39;</span> <span class="kw">in</span> <span class="va">document</span>.<span class="at">createElement</span>(<span class="st">&#39;_&#39;</span>)<span class="op">;</span></code></pre></div>
<h3 id="dont-hide-content-until-javascript-loads">Don’t hide content until JavaScript loads</h3>
<p>If you have an accordion widget, you might use some CSS like this to hide the content:</p>
<div class="sourceCode"><pre class="sourceCode css"><code class="sourceCode css"><span class="fl">.accordion</span> <span class="kw">{</span>
    <span class="kw">display:</span> <span class="dt">none</span><span class="kw">;</span>
<span class="kw">}</span></code></pre></div>
<p>When JavaScript adds an <code>.active</code> class back on to that content, you show it again like this:</p>
<div class="sourceCode"><pre class="sourceCode css"><code class="sourceCode css"><span class="fl">.accordion.active</span> <span class="kw">{</span>
    <span class="kw">display:</span> <span class="dt">block</span><span class="kw">;</span>
<span class="kw">}</span></code></pre></div>
<p>The problem with this approach is that if the visitor’s browser doesn’t support your JavaScript APIs, or if the file fails to download, or if there’s a bug and it break, they’ll never be able to access that content.</p>
<h4 id="add-an-activation-class">Add an activation class</h4>
<p>In your scripts, include something like this as part of the initialization process:</p>
<div class="sourceCode"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span class="va">document</span>.<span class="va">documentElement</span>.<span class="at">className</span> <span class="op">+=</span> <span class="st">&#39; js-accordion&#39;</span><span class="op">;</span></code></pre></div>
<p>This adds the <code>.js-accordion</code> class to the <code>&lt;html&gt;</code> element. You can then hook into that class to conditionally hide my accordion content <em>after</em> you know my script has loaded and passed the mustard test.</p>
<div class="sourceCode"><pre class="sourceCode css"><code class="sourceCode css"><span class="fl">.js-accordion</span> <span class="fl">.accordion</span> <span class="kw">{</span>
    <span class="kw">display:</span> <span class="dt">none</span><span class="kw">;</span>
<span class="kw">}</span></code></pre></div>
<p>This ensures that all users can access that content, even if your script breaks.</p>
<h2 id="strict-mode">Strict mode</h2>
<p>Strict mode is a way of telling browsers (and JavaScript debuggers) to be, well, stricter about how they parse your code. MDN explains:<a href="#fn4" class="footnoteRef" id="fnref4"><sup>4</sup></a></p>
<blockquote>
<p>Strict mode makes several changes to normal JavaScript semantics. First, strict mode eliminates some JavaScript silent errors by changing them to throw errors.</p>
</blockquote>
<p>This is highly desirable. I know that sounds counterintuitive. Why would you want more errors in your code?</p>
<p>Here’s the thing: there were already errors in your code. The browser just wasn’t telling you about them, so they might crop up in unexpected ways that are harder to find.</p>
<p>Turning on strict mode helps you find errors sooner, before they become bigger problems. And it forces you to write better code.</p>
<p>Always use strict mode on your scripts.</p>
<h3 id="how-do-you-activate-strict-mode">How do you activate strict mode?</h3>
<p>Simple, just add this to your scripts:</p>
<div class="sourceCode"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span class="st">&#39;use strict&#39;</span><span class="op">;</span></code></pre></div>
<h3 id="integrating-with-your-text-editor">Integrating with your text editor</h3>
<p>Some text editors support plugins that will check your code for strict mode violations in real time as you code. SublimeLinter for Sublime Text<a href="#fn5" class="footnoteRef" id="fnref5"><sup>5</sup></a> and AtomLint for Atom<a href="#fn6" class="footnoteRef" id="fnref6"><sup>6</sup></a> are good options.</p>
<h2 id="debugging">Debugging</h2>
<p>Your code will break. While you’re learning, it will break a lot. This is an inevitable aspect of being a web developer.</p>
<p>Let’s talk about how to figure out what’s going on and get it working again.</p>
<h3 id="developer-tools-and-the-console">Developer tools and the console</h3>
<p>If you’re not already familiar with your browser’s developer tools, and in particular, the console tab, you should play around with them a bit.</p>
<p>The console tab is where JavaScript errors will get displayed. The error will typically specify what the error is, what file it’s occuring, and what line number it’s on. It will also let you click that line number to jump directly to the error in the file.</p>
<p>You can also write JavaScript directly in the console window, which is useful for quickly testing out a few lines of code.</p>
<p>All modern browsers have developer tools baked in. They differ in subtle ways, so it’s really a matter of preference which one you choose.</p>
<h3 id="the-debugging-process">The debugging process</h3>
<p>There’s no magic process for debugging.</p>
<h4 id="identify-the-last-working-piece-of-code.">1. Identify the last working piece of code.</h4>
<p>If there’s an error in the console window, it will tell you a line number for the code that’s throwing the error. Start there.</p>
<p>If not, go to the very first piece of code in your script that runs.</p>
<h4 id="use-console.log-to-log-all-of-your-work-in-the-console-window.">2. Use <code>console.log()</code> to log all of your work in the console window.</h4>
<p>If you’re using grabbing an element in the DOM with <code>querySelector</code>, log it an make sure you’re actually getting the element. If you’re running an event listener, console.log some text (like <code>console.log('it worked!');</code>) and then try to trigger the event, so that you can confirm it’s working.</p>
<p>Keep working your way back through the code until you find the thing that’s not behaving the way you expect it to.</p>
<p>This is a tedious, annoying process. But it will also help you learn a <em>lot</em> about how to structure code and avoid common issues. Over time, you’ll have to do this less and less.</p>
<p>I typically start at the last working piece of code, using <code>console.log()</code> to check what’s happening until I find the piece of code I messed up or that’s returning an unexpected result.</p>
<h2 id="scoping">Scoping</h2>
<p>Scoping is a way of keeping variables and functions from conflicting with each other (often with unintended consequences).</p>
<p>At a high-level:</p>
<ol style="list-style-type: decimal">
<li>Functions have access to variables set outside themselves, but not variables set inside other functions.</li>
<li>Assigning a variable with <code>var</code> creates a new variable. Assigning it without overwrites a previously defined variable.</li>
</ol>
<p>For example:</p>
<div class="sourceCode"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span class="kw">var</span> sandwich <span class="op">=</span> <span class="st">&#39;turkey&#39;</span><span class="op">;</span>
<span class="kw">var</span> snack <span class="op">=</span> <span class="st">&#39;chips&#39;</span><span class="op">;</span>

<span class="va">console</span>.<span class="at">log</span>(sandwich)<span class="op">;</span> <span class="co">// &quot;turkey&quot;</span>
<span class="va">console</span>.<span class="at">log</span>(snack)<span class="op">;</span> <span class="co">// &quot;chips&quot;</span>

<span class="kw">var</span> updateLunch <span class="op">=</span> <span class="kw">function</span> () <span class="op">{</span>
    <span class="kw">var</span> sandwich <span class="op">=</span> <span class="st">&#39;tuna&#39;</span><span class="op">;</span>
    snack <span class="op">=</span> <span class="st">&#39;carrots&#39;</span><span class="op">;</span>
    <span class="kw">var</span> dessert <span class="op">=</span> <span class="st">&#39;ice cream&#39;</span><span class="op">;</span>

    <span class="va">console</span>.<span class="at">log</span>(sandwich)<span class="op">;</span> <span class="co">// &quot;tuna&quot;</span>
    <span class="va">console</span>.<span class="at">log</span>(snack)<span class="op">;</span> <span class="co">// &quot;carrots&quot;</span>
    <span class="va">console</span>.<span class="at">log</span>(dessert)<span class="op">;</span> <span class="co">// &quot;ice cream&quot;</span>
<span class="op">};</span>

<span class="at">updateLunch</span>()<span class="op">;</span>

<span class="va">console</span>.<span class="at">log</span>(sandwich)<span class="op">;</span> <span class="co">// &quot;turkey&quot;</span>
<span class="va">console</span>.<span class="at">log</span>(snack)<span class="op">;</span> <span class="co">// &quot;carrots&quot;</span>
<span class="va">console</span>.<span class="at">log</span>(dessert)<span class="op">;</span> <span class="co">// undefined</span></code></pre></div>
<h3 id="immediately-invoked-function-expression">Immediately Invoked Function Expression</h3>
<p>There are times you may want to expose a function or variable to the global scope (for example, a lightweight framework you want other scripts to be able to use), but generally speaking, you want to keep your functions and variables out of the global scope.</p>
<p>One way to do this is to wrap your code in an Immediately Invoked Function Expression (or IIFE). An IIFE is an anonymous (as in, unnamed) function that runs immediately. Because all of your code is inside a function, it’s removed from the global scope.</p>
<div class="sourceCode"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span class="op">;</span>(<span class="kw">function</span> (window<span class="op">,</span> document<span class="op">,</span> <span class="kw">undefined</span>) <span class="op">{</span>
    <span class="st">&#39;strict mode&#39;</span><span class="op">;</span>
    <span class="co">// Your code goes here...</span>
<span class="op">}</span>)(window<span class="op">,</span> document)<span class="op">;</span></code></pre></div>
<h1 id="planning-out-your-script">Planning out your script</h1>
<p>This may sound ridiculous, but I actually plan out my scripts on paper before I ever open a text editor. Like, real paper. In a physical notebook. With a pen.</p>
<p>Code is really just a series of small steps, run one after another, that tell computers (or in our case, browsers) exactly what to do.</p>
<p>I find it helpful to identify what each of those steps should be ahead of time, which makes it easier for me to think through which functions and techniques I need to use, which elements on the page I need to target, and so on.</p>
<h2 id="an-example">An example</h2>
<p>Here’s an actual example from when I created my Right Height plugin.<a href="#fn7" class="footnoteRef" id="fnref7"><sup>7</sup></a></p>
<p>Right Height will take a set of content areas that are different heights and make them all the same height. When those content areas are all stacked one-on-top-of-the-other (say, in a single-column mobile view), it leaves them at their natural height.</p>
<p>First, I sketched out what I was trying to accomplish on paper.</p>
<div class="figure">
<img src="assets/img/right-height.jpg" alt="Sketching out rightHeight.js" />
<p class="caption">Sketching out rightHeight.js</p>
</div>
<p>Next, I identified and wrote out each of the steps.</p>
<ol style="list-style-type: decimal">
<li>Get all of the content areas in a group.</li>
<li>Determine if the content areas are side-by-side or stacked one-on-top-of-the-other.
<ul>
<li>If they’re side-by-side…
<ol style="list-style-type: decimal">
<li>Get the height of the tallest content area.</li>
<li>Set each content area to the height of the tallest one.</li>
</ol></li>
<li>If they’re one-on-top-of-the-other…
<ol style="list-style-type: decimal">
<li>Remove any height setting and let the content flow naturally.</li>
</ol></li>
</ul></li>
<li>If the browser is resized, do it all over again.</li>
</ol>
<p>And here’s how that translated those steps into specific tasks for the script.</p>
<ol style="list-style-type: decimal">
<li>Get all of the content areas in a group.
<ol style="list-style-type: lower-alpha">
<li>Wrap content in a parent element with a selector (like <code>.right-height</code> or <code>[data-right-height]</code>).</li>
<li>Use <code>.querySelectorAll()</code> to get all content groups.</li>
<li>Loop through each group, and use <code>.querySelectorAll()</code> to get all content areas within it.</li>
</ol></li>
<li>Determine if the content areas are side-by-side or stacked one-on-top-of-the-other.
<ul>
<li>Get the distance from the top of the first two content areas to the top of the page. If they’re the same, the content areas are side-by-side. If they’re different, they’re stacked.</li>
<li>If they’re side-by-side…
<ol style="list-style-type: decimal">
<li>Get the height of the tallest content area.
<ol style="list-style-type: lower-alpha">
<li>Set a variable for <code>height</code> to <code>0</code>.</li>
<li>Loop through each content area and measure its height. If it’s greater than the current <code>height</code> variable value, reset <code>height</code> to that content area’s height.</li>
</ol></li>
<li>Set each content area to the height of the tallest one.
<ol style="list-style-type: lower-alpha">
<li>Loop through each content area again and give it a <code>style.height</code> equal to the <code>height</code> variable value.</li>
</ol></li>
</ol></li>
<li>If they’re one-on-top-of-the-other…
<ol style="list-style-type: decimal">
<li>Remove any height setting and let the content flow naturally.
<ol style="list-style-type: lower-alpha">
<li>Loop through each content area and set the <code>style.height</code> to nothing.</li>
</ol></li>
</ol></li>
</ul></li>
<li>If the browser is resized, do it all over again.
<ol style="list-style-type: lower-alpha">
<li>Add a event listener for browser resizing.</li>
</ol></li>
</ol>
<p>Obviously, there’s a bit more to writing code than just outlining the steps. But this outline gives me a huge headstart on actually writing the script and helps keep me focused on the bigger tasks I need to get done.</p>
<p>Give it a try!</p>
<h2 id="about-the-author">About the Author</h2>
<div class="figure">
<img src="assets/img/chris-ferdinandi.jpg" class="author-img" />

</div>
<p>Hi, I’m Chris Ferdinandi. I help people make things for the web.</p>
<p>I love pirates, puppies, and Pixar movies, and live near horse farms in rural Massachusetts. I run Go Make Things with Bailey Puppy, a lab-mix from Tennessee.</p>
<p>You can find me:</p>
<ul>
<li>On my website at <a href="https://gomakethings.com">GoMakeThings.com</a>.</li>
<li>By email at <script type="text/javascript">
<!--
h='&#x67;&#x6f;&#x6d;&#x61;&#x6b;&#x65;&#116;&#104;&#x69;&#110;&#x67;&#x73;&#46;&#x63;&#x6f;&#x6d;';a='&#64;';n='&#x63;&#104;&#114;&#x69;&#x73;';e=n+a+h;
document.write('<a h'+'ref'+'="ma'+'ilto'+':'+e+'" clas'+'s="em' + 'ail">'+e+'<\/'+'a'+'>');
// -->
</script><noscript>&#x63;&#104;&#114;&#x69;&#x73;&#32;&#x61;&#116;&#32;&#x67;&#x6f;&#x6d;&#x61;&#x6b;&#x65;&#116;&#104;&#x69;&#110;&#x67;&#x73;&#32;&#100;&#x6f;&#116;&#32;&#x63;&#x6f;&#x6d;</noscript>.</li>
<li>On Twitter at <a href="https://twitter.com/ChrisFerdinandi"><span class="citation">@ChrisFerdinandi</span></a>.</li>
</ul>
<div class="break">

</div>
<script>
    ;(function (window, document, undefined) {

        'use strict';


        // Feature test
        var supports = 'querySelector' in document;
        if ( !supports ) return;


        //
        // Variables
        //


        var headings = document.querySelectorAll( 'h2' ); // Headings
        var toc = document.querySelector( '[data-toc]' ); // Table of contents container
        var links = '';         // Placeholder variables

        // Make sure headings and TOC container exist. Otherwise, bail.
        if ( headings.length < 1 || !toc ) return;


        //
        // Methods
        //

        /**
         * Give heading an ID if it's missing one
         * @param  {Node} heading The heading
         */
        var createID = function ( heading ) {

            // If the heading already has and ID, bail
            if ( heading.id ) return;

            // Otherwise, convert heading text to valid ID
            // Regex pattern: http://stackoverflow.com/a/9635698/1293256
            heading.id = heading.innerHTML.replace( /^[^a-z]+|[^\w:.-]+/gi, '_' ).toLowerCase();

        };

        /**
         * Create the table of contents link
         * @param  {Node} heading The heading
         */
        var createLink = function ( heading ) {
            links += '<li><a href="#' + heading.id + '">' + heading.innerHTML + '</a></li>';
        };


        //
        // Inits
        //

        // Create the links
        for ( var i = 0; i < headings.length; i++ ) {
            createID( headings[i] ); // If the heading has no ID, give it one
            createLink( headings[i] ); // Create link
        }

        // Inject TOC into the DOM
        toc.innerHTML = '<h2>Table of Contents</h2><ol>' + links + '</ol>';

    })(window, document);

    /*! smooth-scroll v10.3.1 | (c) 2017 Chris Ferdinandi | MIT License | http://github.com/cferdinandi/smooth-scroll */
    !(function(e,t){"function"==typeof define&&define.amd?define([],t(e)):"object"==typeof exports?module.exports=t(e):e.smoothScroll=t(e)})("undefined"!=typeof global?global:this.window||this.global,(function(e){"use strict";var t,n,o,r,a,c,l,i={},u="querySelector"in document&&"addEventListener"in e,s={selector:"[data-scroll]",selectorHeader:null,speed:500,easing:"easeInOutCubic",offset:0,callback:function(){}},f=function(){var e={},t=!1,n=0,o=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(t=arguments[0],n++);for(;n<o;n++){var r=arguments[n];!(function(n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t&&"[object Object]"===Object.prototype.toString.call(n[o])?e[o]=f(!0,e[o],n[o]):e[o]=n[o])})(r)}return e},d=function(e){return Math.max(e.scrollHeight,e.offsetHeight,e.clientHeight)},h=function(e,t){for(Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;--n>=0&&t.item(n)!==this;);return n>-1});e&&e!==document;e=e.parentNode)if(e.matches(t))return e;return null},m=function(e){"#"===e.charAt(0)&&(e=e.substr(1));for(var t,n=String(e),o=n.length,r=-1,a="",c=n.charCodeAt(0);++r<o;){if(0===(t=n.charCodeAt(r)))throw new InvalidCharacterError("Invalid character: the input contains U+0000.");a+=t>=1&&t<=31||127==t||0===r&&t>=48&&t<=57||1===r&&t>=48&&t<=57&&45===c?"\\"+t.toString(16)+" ":t>=128||45===t||95===t||t>=48&&t<=57||t>=65&&t<=90||t>=97&&t<=122?n.charAt(r):"\\"+n.charAt(r)}return"#"+a},p=function(e,t){var n;return"easeInQuad"===e&&(n=t*t),"easeOutQuad"===e&&(n=t*(2-t)),"easeInOutQuad"===e&&(n=t<.5?2*t*t:(4-2*t)*t-1),"easeInCubic"===e&&(n=t*t*t),"easeOutCubic"===e&&(n=--t*t*t+1),"easeInOutCubic"===e&&(n=t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1),"easeInQuart"===e&&(n=t*t*t*t),"easeOutQuart"===e&&(n=1- --t*t*t*t),"easeInOutQuart"===e&&(n=t<.5?8*t*t*t*t:1-8*--t*t*t*t),"easeInQuint"===e&&(n=t*t*t*t*t),"easeOutQuint"===e&&(n=1+--t*t*t*t*t),"easeInOutQuint"===e&&(n=t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t),n||t},g=function(e,t,n){var o=0;if(e.offsetParent)do{o+=e.offsetTop,e=e.offsetParent}while(e);return o=Math.max(o-t-n,0),Math.min(o,y()-b())},b=function(){return Math.max(document.documentElement.clientHeight,e.innerHeight||0)},y=function(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)},v=function(e){return e&&"object"==typeof JSON&&"function"==typeof JSON.parse?JSON.parse(e):{}},O=function(e){return e?d(e)+e.offsetTop:0},S=function(t,n,o){o||(t.focus(),document.activeElement.id!==t.id&&(t.setAttribute("tabindex","-1"),t.focus(),t.style.outline="none"),e.scrollTo(0,n))};i.animateScroll=function(n,o,c){var i=v(o?o.getAttribute("data-options"):null),u=f(t||s,c||{},i),d="[object Number]"===Object.prototype.toString.call(n),h=d||!n.tagName?null:n;if(d||h){var m=e.pageYOffset;u.selectorHeader&&!r&&(r=document.querySelector(u.selectorHeader)),a||(a=O(r));var b,E,I=d?n:g(h,a,parseInt("function"==typeof u.offset?u.offset():u.offset,10)),H=I-m,A=y(),j=0,C=function(t,r,a){var c=e.pageYOffset;(t==r||c==r||e.innerHeight+c>=A)&&(clearInterval(a),S(n,r,d),u.callback(n,o))},M=function(){j+=16,b=j/parseInt(u.speed,10),b=b>1?1:b,E=m+H*p(u.easing,b),e.scrollTo(0,Math.floor(E)),C(E,I,l)};0===e.pageYOffset&&e.scrollTo(0,0),(function(){clearInterval(l),l=setInterval(M,16)})()}};var E=function(t){try{m(decodeURIComponent(e.location.hash))}catch(t){m(e.location.hash)}n&&(n.id=n.getAttribute("data-scroll-id"),i.animateScroll(n,o),n=null,o=null)},I=function(r){if(0===r.button&&!r.metaKey&&!r.ctrlKey&&(o=h(r.target,t.selector))&&"a"===o.tagName.toLowerCase()&&o.hostname===e.location.hostname&&o.pathname===e.location.pathname&&/#/.test(o.href)){var a;try{a=m(decodeURIComponent(o.hash))}catch(e){a=m(o.hash)}if("#"===a){r.preventDefault(),n=document.body;var c=n.id?n.id:"smooth-scroll-top";return n.setAttribute("data-scroll-id",c),n.id="",void(e.location.hash.substring(1)===c?E():e.location.hash=c)}n=document.querySelector(a),n&&(n.setAttribute("data-scroll-id",n.id),n.id="",o.hash===e.location.hash&&(r.preventDefault(),E()))}},H=function(e){c||(c=setTimeout((function(){c=null,a=O(r)}),66))};return i.destroy=function(){t&&(document.removeEventListener("click",I,!1),e.removeEventListener("resize",H,!1),t=null,n=null,o=null,r=null,a=null,c=null,l=null)},i.init=function(n){u&&(i.destroy(),t=f(s,n||{}),r=t.selectorHeader?document.querySelector(t.selectorHeader):null,a=O(r),document.addEventListener("click",I,!1),e.addEventListener("hashchange",E,!1),r&&e.addEventListener("resize",H,!1))},i}));
    smoothScroll.init({
        selector: 'a[href*="#"]'
    })
</script>
<div class="footnotes">
<hr />
<ol>
<li id="fn1"><p><a href="http://bradfrostweb.com/blog/mobile/support-vs-optimization/" class="uri">http://bradfrostweb.com/blog/mobile/support-vs-optimization/</a><a href="#fnref1">↩</a></p></li>
<li id="fn2"><p><a href="http://responsivenews.co.uk/post/18948466399/cutting-the-mustard" class="uri">http://responsivenews.co.uk/post/18948466399/cutting-the-mustard</a><a href="#fnref2">↩</a></p></li>
<li id="fn3"><p><a href="https://github.com/eligrey/classList.js/" class="uri">https://github.com/eligrey/classList.js/</a><a href="#fnref3">↩</a></p></li>
<li id="fn4"><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Strict_mode" class="uri">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Strict_mode</a><a href="#fnref4">↩</a></p></li>
<li id="fn5"><p><a href="http://www.sublimelinter.com" class="uri">http://www.sublimelinter.com</a><a href="#fnref5">↩</a></p></li>
<li id="fn6"><p><a href="https://atom.io/packages/atom-lint" class="uri">https://atom.io/packages/atom-lint</a><a href="#fnref6">↩</a></p></li>
<li id="fn7"><p><a href="https://github.com/cferdinandi/right-height" class="uri">https://github.com/cferdinandi/right-height</a><a href="#fnref7">↩</a></p></li>
</ol>
</div>
</body>
</html>
